# About

This is (currently) a demo and evaluation of Docusaurus (v2) for FoundriesFactory documentation purposes.
Documentation here may be incomplete, outdated, or otherwise not fit for consumption.
See our [current docs repo](https://github.com/foundriesio/docs) if you are interested in our docs source.

This website is built using [Docusaurus 2](https://docusaurus.io/), a modern static website generator.

## Implementation Goals

The items below represent what we are evaluating on, and what needs to be demonstrated.
A separate document will present the findings.

::: note

* "x": True
* "-": With notes or exceptions
* empty: False or undetermined 

[-] Scalability; Can it grow with increasing contributors and information and remain manageable?
     Conversely, can it be managed and remain simple enough for a team of one?

[x] Flexibility

 [x] able to meet changing needs

 [x] reduce effort through reuse

 [-] Single source

[x] Can be coupled with partner documentation

  [-] security...oauth

  [x] ease of cloning and modification

[x] Minimal prerequisites for contribution

  [x] familiar markup language or plain-text

  [-] Readable prior to rendering

  [x] Easy to render and check locally prior to pull request

[x] Good Findability

  [x] organized content

  [x] metrics/reports

  [x] quick and responsive

  [x] filtered/ordered

  [x] optimized for search engines

Support for:

[-] Importing older documentation versions

[x] PDF export

[x] Versioning

[x] Documenting APIs

[x] Permalinks

[x] Minification

[x] SEO tools

[x] calculating and displaying read time

[x] Stable and Supportedâ€¦tried and tested,likely to be around for awhile

[x] Open Source

## Usage

### Installation

1. Install [Node.js](https://nodejs.org/en/download)

2. Clone this repo

3. Enter the directory and install dependencies.


From a console this process looks like:
```shell
git clone git@github.com:foundriesio/ff-docs.git
cd ff-docs
npm install
```

### Local Development

When you run `npm run start` from a console, a local server starts and opens up a browser window to the site (localhost:3000).
When you make changes, they will generally be reflected live.
Any Error messages will be displayed within the browser as well as the console.

To see exactly how the site will look when deployed however, you must build it first, generating the html for the
static site.

Configuration is done in `docusaurus.config.js`. See comments in file for details.

#### Build

TODO: Will be writing a script to manage this, as well as deployment.

``` bash
    npm run build
```

To easily view generated html,

``` bash
    npm run serve
```

### Tips, Conventions, and Info

#### UI Navigation

The sidebar is autogenerated, though a custom one can be used.
Pages are organized alphabetically,
but order can be specified by adding "sidebar_position: " to the
[page metadata](https://docusaurus.io/docs/sidebar/autogenerated#autogenerated-sidebar-metadata)

#### Search

The search feature is currently handled locally;
if we make the decision to migrate to Docusaurus, we will likely go with [DocSearch](https://docsearch.algolia.com/), powered by Algolia.

### Deployment

For deployment to GitHub pages, the built static site is pushed to the
[gh-pages branch](https://github.com/foundriesio/ff-docs/tree/gh-pages).
This is the contents of the `build` folder generated by `npm run build`.

To use the script provided by Docusaurus, set the required env vars,
and run the deploy command:

```shell
GIT_USER=<gitAccount> \
CURRENT_BRANCH=<branchName> \ # will usually be main, after a merge
USE_SSH=true \
npm run deploy
```
GitHub actions were added for (1) testing PRs, and (2) deploying after merges to main.

